<div class="m-subheader ">
    <div class="d-flex align-items-center">
        <div class="mr-auto">
            <h3 class="m-subheader__title m-subheader__title--separator">
                My Commission
            </h3>
            <span class="m-section__sub">
                All the work you have to finish in the near future
            </span>
        </div>
    </div>
</div>
<!-- END: Subheader -->
<div class="m-content">
    <div class="m-portlet">
        <div class="m-portlet__body">

            <div style="margin-bottom:20px">
                <div class="m-portlet__head-caption">
                    <div class="row">
                        <div class="col-lg-7">
                            <div class="m-portlet__head-title" style="margin-bottom:10px">
                                <h3 class="m-portlet__head-text">
                                    Commission List
                                </h3>
                                <p class="m-form__help" style="line-height:1.2rem;color: #7b7e8a;font-weight: 300;font-size: 0.85rem;">
                                    Commission is a service charge assessed by a broker or investment advisor in return
                                    for providing investment advice and/or handling the purchase or sale of a security
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="row m--margin-bottom-10">
                        <div class="col-xl-6">
                            <div class="form-group">
                                <input name="filterText" class="form-control m-input" placeholder="Search commission .."
                                    id="comm" #gb (keyup)="firstTaskList=0" class="form-control m-input" [(ngModel)]="comm"
                                    type="text" autofocus>
                            </div>
                        </div>
                        <div class="col-xl-6 text-right">
                            <!-- <button (click)="filterCommissionModal.show()"
										class="btn btn-primary m-btn m-btn--air m-btn--uppercase" style="font-size: 12px;">
										<i class="la la-filter"></i> Filter Commission
									</button> -->
                            <button name="RefreshButton" class="btn btn-metal m-btn m-btn--air m-btn--uppercase"
                                (click)="getAllInformation(memberCode, $event)">
                                <i class="la la-refresh"></i> {{l('Refresh')}}
                            </button>
                        </div>
                    </div>
                </div>
                <div style="padding:0px 20px">
                    <div class="form-group m-form__group row">
                        <!--begin: Datatable -->
                        <div class="primeng-datatable-container" [busyIf]="primengDatatableHelper.isLoading">
                            <p-dataTable [value]="primengDatatableHelper.records" [lazy]="false" [paginator]="true" [rows]="10"  [rowsPerPageOptions]="[10,20,50,100]" [totalRecords]="primengDatatableHelper.totalRecordsCount">
                                <!-- [paginatorPosition]="none" -->
                                <p-column header="No." [sortable]="false" [style]="{'width':'80px', 'text-align':'center'}">
                                    <ng-template let-rowIndex="rowIndex" pTemplate="body">
                                        {{ rowIndex+1 }}
                                    </ng-template>
                                </p-column>
                                <p-column field="bookCode" header="Book Code" [sortable]="true" [style]="{'font-size':'0.9em','width':'143px','text-align':'center'}"></p-column>
                                <p-column field="commPctPaid" header="Percent Commission" [sortable]="true" [style]="{'font-size':'0.9em','width':'180px','text-align':'center'}">
                                    <ng-template let-record="rowData" pTemplate="body">
                                        <div class="rowData" style="text-align: center;">
                                            {{record.commPctPaid}} %
                                        </div>
                                    </ng-template>
                                </p-column>
                                <p-column field="amountComm" header="Amount Commission" [sortable]="false" [style]="{'font-size':'0.9em','width':'150px','text-align':'center'}">
                                    <ng-template let-record="rowData" pTemplate="body">
                                        <div class="rowData" style="text-align: right;">
                                            {{record.amountComm | currency:'Rp. '}}
                                        </div>
                                    </ng-template>
                                </p-column>
                                <p-column field="" header="" [sortable]="false" [style]="{'width':'64px'}">
                                    <ng-template let-record="rowData" pTemplate="body">
                                        <div class="text-center">
                                            <button class="btn btn-primary m-btn m-btn--icon btn-sm m-btn--icon-only m-btn--air m-btn--bolder"
                                                (click)="showDetails(record.bookCode)">
                                                <i class="la la-search"></i>
                                            </button>
                                        </div>
                                    </ng-template>
                                </p-column>
                            </p-dataTable>
                            <div class="primeng-paging-container">
                                <!-- <p-paginator rows="{{primengDatatableHelper.defaultRecordsCountPerPage}}" #paginator
                                             (onPageChange)="getLatestList($event)"
                                             [totalRecords]="primengDatatableHelper.totalRecordsCount">
                                </p-paginator> -->
                                <!-- <span class="total-records-count">
                                        {{l('TotalRecordsCount', primengDatatableHelper.totalRecordsCount)}}
                                    </span> -->
                            </div>
                        </div>
                        
                        <div class="form-group m-form__group row" style="margin: 0px;">
                            <span class="total-records-count">
                                <span class="label m-badge m-badge--primary m-badge--wide">
                                        Total ({{primengDatatableHelper.totalRecordsCount}})
                                </span>
                            </span>
                        </div>
                        <!--end: Datatable -->
                    </div>
                </div>
                <!-- <div class="m-portlet__head-title text-right m--margin-top-10">
							<h3 class="m-portlet__head-text" style="margin-bottom:0;font-size: 15px !important;">
								Last Update
							</h3>
							<small class="m-form__help">
								20 September 2018, 15:34
							</small>
						</div> -->
            </div>
        </div>
    </div>
</div>

<filterCommissionModal #filterCommissionModal (modalSave)="getAllInformation(memberCode, $event)"></filterCommissionModal>
<detailCommissionModal #detailCommissionModal></detailCommissionModal>
